# Generated by Django 4.2.10 on 2025-05-05 21:53

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        ("course_elements", "0001_initial"),
        ("courses", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ("accounts", "0003_teachersubject_subject_teachersubject_teacher_and_more"),
    ]

    operations = [
        migrations.AddField(
            model_name="webinar",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="webinar",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="webinar",
            name="host",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="hosted_webinars",
                to="accounts.teacherprofile",
                verbose_name="Ведущий",
            ),
        ),
        migrations.AddField(
            model_name="videocontent",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="video_content",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="surveysubmission",
            name="student",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="survey_submissions",
                to="accounts.studentprofile",
                verbose_name="Студент",
            ),
        ),
        migrations.AddField(
            model_name="surveysubmission",
            name="survey",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="submissions",
                to="course_elements.survey",
                verbose_name="Опрос",
            ),
        ),
        migrations.AddField(
            model_name="surveyquestion",
            name="survey",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="questions",
                to="course_elements.survey",
                verbose_name="Опрос",
            ),
        ),
        migrations.AddField(
            model_name="surveyoption",
            name="question",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="options",
                to="course_elements.surveyquestion",
                verbose_name="Вопрос",
            ),
        ),
        migrations.AddField(
            model_name="surveyanswer",
            name="question",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="answers",
                to="course_elements.surveyquestion",
                verbose_name="Вопрос",
            ),
        ),
        migrations.AddField(
            model_name="surveyanswer",
            name="selected_options",
            field=models.ManyToManyField(
                blank=True,
                related_name="selected_in_answers",
                to="course_elements.surveyoption",
            ),
        ),
        migrations.AddField(
            model_name="surveyanswer",
            name="submission",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="answers",
                to="course_elements.surveysubmission",
                verbose_name="Отправка",
            ),
        ),
        migrations.AddField(
            model_name="survey",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="survey",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="quizquestion",
            name="quiz",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="questions",
                to="course_elements.quiz",
                verbose_name="Тест",
            ),
        ),
        migrations.AddField(
            model_name="quizoption",
            name="question",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="options",
                to="course_elements.quizquestion",
                verbose_name="Вопрос",
            ),
        ),
        migrations.AddField(
            model_name="quizattempt",
            name="quiz",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="attempts",
                to="course_elements.quiz",
                verbose_name="Тест",
            ),
        ),
        migrations.AddField(
            model_name="quizattempt",
            name="student",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="quiz_attempts",
                to="accounts.studentprofile",
                verbose_name="Студент",
            ),
        ),
        migrations.AddField(
            model_name="quizanswer",
            name="attempt",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="answers",
                to="course_elements.quizattempt",
                verbose_name="Попытка",
            ),
        ),
        migrations.AddField(
            model_name="quizanswer",
            name="question",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="answers",
                to="course_elements.quizquestion",
                verbose_name="Вопрос",
            ),
        ),
        migrations.AddField(
            model_name="quizanswer",
            name="selected_options",
            field=models.ManyToManyField(
                blank=True,
                related_name="selected_in_answers",
                to="course_elements.quizoption",
            ),
        ),
        migrations.AddField(
            model_name="quiz",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="quiz",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="lecturecontent",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="lecture_content",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="interactivecontent",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="interactive_content",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="interactiveattempt",
            name="interactive_content",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="attempts",
                to="course_elements.interactivecontent",
                verbose_name="Интерактивное содержимое",
            ),
        ),
        migrations.AddField(
            model_name="interactiveattempt",
            name="student",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="interactive_attempts",
                to="accounts.studentprofile",
                verbose_name="Студент",
            ),
        ),
        migrations.AddField(
            model_name="discussiontopic",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_topics",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Одобрил",
            ),
        ),
        migrations.AddField(
            model_name="discussiontopic",
            name="author",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="discussion_topics",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Автор",
            ),
        ),
        migrations.AddField(
            model_name="discussiontopic",
            name="discussion",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="topics",
                to="course_elements.discussion",
                verbose_name="Обсуждение",
            ),
        ),
        migrations.AddField(
            model_name="discussionparticipation",
            name="discussion",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="participations",
                to="course_elements.discussion",
                verbose_name="Обсуждение",
            ),
        ),
        migrations.AddField(
            model_name="discussionparticipation",
            name="graded_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="graded_discussions",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Оценил",
            ),
        ),
        migrations.AddField(
            model_name="discussionparticipation",
            name="student",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="discussion_participations",
                to="accounts.studentprofile",
                verbose_name="Студент",
            ),
        ),
        migrations.AddField(
            model_name="discussionmessage",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_messages",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Одобрил",
            ),
        ),
        migrations.AddField(
            model_name="discussionmessage",
            name="author",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="discussion_messages",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Автор",
            ),
        ),
        migrations.AddField(
            model_name="discussionmessage",
            name="downvotes",
            field=models.ManyToManyField(
                blank=True,
                related_name="downvoted_messages",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="discussionmessage",
            name="parent",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="replies",
                to="course_elements.discussionmessage",
                verbose_name="Родительское сообщение",
            ),
        ),
        migrations.AddField(
            model_name="discussionmessage",
            name="topic",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="messages",
                to="course_elements.discussiontopic",
                verbose_name="Тема",
            ),
        ),
        migrations.AddField(
            model_name="discussionmessage",
            name="upvotes",
            field=models.ManyToManyField(
                blank=True, related_name="upvoted_messages", to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="discussionattachment",
            name="message",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="attachments",
                to="course_elements.discussionmessage",
                verbose_name="Сообщение",
            ),
        ),
        migrations.AddField(
            model_name="discussion",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="discussion",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AddField(
            model_name="assignmentsubmission",
            name="assignment",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="submissions",
                to="course_elements.assignment",
                verbose_name="Задание",
            ),
        ),
        migrations.AddField(
            model_name="assignmentsubmission",
            name="graded_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="graded_submissions",
                to=settings.AUTH_USER_MODEL,
                verbose_name="Проверил",
            ),
        ),
        migrations.AddField(
            model_name="assignmentsubmission",
            name="student",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="assignment_submissions",
                to="accounts.studentprofile",
                verbose_name="Студент",
            ),
        ),
        migrations.AddField(
            model_name="assignment",
            name="element",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="assignment",
                to="courses.courseelement",
                verbose_name="Элемент курса",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="webinarattendance",
            unique_together={("webinar", "student")},
        ),
        migrations.AlterUniqueTogether(
            name="surveyanswer",
            unique_together={("submission", "question")},
        ),
        migrations.AlterUniqueTogether(
            name="quizanswer",
            unique_together={("attempt", "question")},
        ),
        migrations.AlterUniqueTogether(
            name="discussionparticipation",
            unique_together={("discussion", "student")},
        ),
    ]
